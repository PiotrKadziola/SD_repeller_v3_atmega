/*
 * ADC.c
 *
 *  Created on: 28-06-2015
 *      Author: someone
 */


/**********************************************************************************************/
/*							             PRZETWORNIK ADC                                      */
/**********************************************************************************************/

#include "ADC.h"
#include <avr/io.h>

/**********************************************************************************************/
/*							            INICJALIZACJA ADC                                     */
/**********************************************************************************************/

void InitADC(void)
{
	ADCSRA = (1<<ADEN) | (1<<ADIE) | (1<<ADPS2) | (1<<ADPS0); 	//32 dzielnik
	ADMUX  = (1<<REFS0);
}

/**********************************************************************************************/
/*							             WYBOR KANALU ADC                                     */
/**********************************************************************************************/

void ADCChannel(BYTE Channel)
{
//	ADMUX = (ADMUX & 0xE0) | Channel;
}

/**********************************************************************************************/
/*							                START ADC                                         */
/**********************************************************************************************/

void ADCStart(void)
{
	ADCSRA |= (1<<ADSC);
}

/**********************************************************************************************/
/*							          ODCZYT WYNIKU PRZETWARZANIA                             */
/**********************************************************************************************/

WORD ADCValue(void)
{
  	return ADC;                                       //Return new value
}
